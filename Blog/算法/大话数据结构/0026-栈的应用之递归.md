---
title: 0026-栈的应用之递归
index_img: /cover/1.jpg
banner_img: /cover/top.jpg
date: 2019-9-1
tags: 算法-大话数据结构
categories: 大话数据结构
---

递归是个啥就不说了，是非常基础的东西了。将两面镜子对着，你就明白啥是递归了。

下面我们讲一个数列：斐波那契数列。用这个数列来讲解递归。



## 斐波那契数列

> 如果兔子在出生的第二个月，就有了繁殖能力，一对兔子每个月可以生一对兔子。问一年后有多少对兔子？

这里我们假设第 x 个月，兔子有 f(x) 对，则 第 x-1 个月，有 f(x-1) 对，第 x-2 个月，有 f(x-2) 对。这看起来像是废话，但是仔细想一想，因为兔子在出生的第2个月才有繁殖能力。所以在 x-1 个月的时候，只有 f(x-2) 对兔子才有繁殖能力，有因为每一对兔子可以生一对兔子，所以 :

f(x) = f(x-1) + f(x-2)

其中，f(x-1) 表示第 x-1 个月的兔子数，f(x-2) 表示所有兔子中可以繁殖的兔子数。

所以这个数列为：1，1，2，3，5，8，13，21，34，55，89，144。即一年后有 144 对兔子。



## 循环实现

```java
    public static int f(int n) {
        if (n <= 2) {
            return 1;
        }

        int p = 1;
        int c = 1;
        int q = 0;
        for (int i = 2; i < n; i++) {
            q = p + c;
            p = c;
            c = q;
        }

        return q;
    }
```



## 递归实现

```java
int f(int n) {
    if (n <= 2) {
        return 1;
    }
    return f(n-1) + f(n-2);
}
```



明显可以看出，递归的逻辑更加清晰。但是需要注意的是，函数的每次调用都将其变量，返回值，参数值都放入了调用栈之中，如果递归的层次太深，会报栈溢出的错误，因为栈的容量是有大小限制的，不会无穷大。
